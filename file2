<nb-select
  placeholder="SÃ©lectionner un mois"
  [(selected)]="selectedMonth"
  fullWidth
>
  <nb-option *ngFor="let month of availableMonths" [value]="month">
    {{ month.label }}
  </nb-option>
</nb-select>

selectedMonth: string = '';

availableMonths = this.getLastThreeMonths();

getLastThreeMonths(): { label: string, value: string }[] {
  const months: { label: string, value: string }[] = [];
  const now = new Date();

  for (let i = 3; i >= 0; i--) {
    const date = new Date(now.getFullYear(), now.getMonth() - i, 1);
    const label = date.toLocaleString('fr-FR', { month: 'long', year: 'numeric' });
    months.push({ label, value: label });
  }

  return months;
}
